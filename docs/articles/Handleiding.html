<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Handleiding LSVI-package • LSVI</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Handleiding LSVI-package">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LSVI</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Berekeningen.html">Technische achtergrond bij de berekeningen</a>
    </li>
    <li>
      <a href="../articles/Handleiding.html">Handleiding LSVI-package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/inbo/LSVI">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Handleiding LSVI-package</h1>
                        <h4 class="author">Els Lommelen</h4>
            
            <h4 class="date">2020-03-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/inbo/LSVI/blob/master/vignettes/Handleiding.Rmd"><code>vignettes/Handleiding.Rmd</code></a></small>
      <div class="hidden name"><code>Handleiding.Rmd</code></div>

    </div>

    
    
<div id="leeswijzer" class="section level1">
<h1 class="hasAnchor">
<a href="#leeswijzer" class="anchor"></a>Leeswijzer</h1>
<p>Deze handleiding is bedoeld voor iedereen die met het package LSVI zal werken. Ze richt zich zowel op gebruikers die de gegevens uit de databank willen raadplegen maar nooit met R gewerkt hebben als op ervaren R-gebruikers die eigen scripts willen ontwikkelen voor de verwerking van hun veldopnames (berekening van LSVI). Er wordt wel van uitgegaan dat gebruikers een grondige kennis hebben over LSVI van habitattypen (terminologie, achtergrond,…).</p>
<p>De handleiding is zo opgesteld dat ze voor beide groepen de relevante informatie bevat om aan de slag te gaan. Enkele hoofdstukken gaan over de opbouw en het gebruik van het package, en deze zijn zinvol om te lezen voor alle gebruikers:</p>
<ul>
<li>
<a href="#doelstellingen_inhoud">Doelstellingen en inhoud package</a>: de globale opbouw van de databank en het package, met extra terminologie die in het package gebruikt is en ook een ruw overzicht van de inhoud (groepen van functies). In een tweede onderdeel wordt dieper ingegaan op de doelstelling: een package van en voor LSVI-gebruikers. In feite bevat dit deel alle informatie die niet specifiek over het gebruik van de code zelf gaat.</li>
<li><a href="#installatie_package">Installatie van het package</a></li>
<li>
<a href="#basis_LSVI">Gebruik basisfuncties, onderdeel Basis van LSVI-package</a>: hoe de functies in het LSVI-package gebruiken</li>
</ul>
<p>Voor beginnende R-gebruikers is er onder <a href="#gebruik_basisfuncties">Gebruik basisfuncties</a> een extra onderdeel <a href="#wegwijs_in_R">Wegwijs in R</a> waarin ingegaan wordt op enkele basishandelingen in R die nuttig kunnen zijn bij het gebruik van dit package (hoe documentatie opzoeken en hoe de bekomen informatie opslaan voor gebruik in Excel).</p>
</div>
<div id="doelstellingen_inhoud" class="section level1">
<h1 class="hasAnchor">
<a href="#doelstellingen_inhoud" class="anchor"></a>Doelstellingen en inhoud package</h1>
<div id="inhoud_package" class="section level2">
<h2 class="hasAnchor">
<a href="#inhoud_package" class="anchor"></a>Inhoud package</h2>
<p>Doelstellingen van het package LSVI zijn om de informatie in verband met het bepalen van de lokale staat van instandhouding (LSVI) van habitattypen digitaal ter beschikking te stellen en de functionaliteit aan te bieden om deze LSVI te berekenen (zie <a href="#doelstellingen">Doelstellingen</a> voor details). Het project bestaat uit 2 onderdelen die onlosmakelijk met elkaar verbonden zijn: een databank die de informatie bevat en het package dat beide doelstellingen uitvoert, gebruik makend van de informatie uit de databank.</p>
<p>De <strong>databank</strong> bevat alle informatie uit de LSVI-rapporten van de habitattypen, waarbij de verschillende versies van de rapporten naast elkaar opgeslagen zijn en dus afzonderlijk geraadpleegd of gebruikt kunnen worden. Behalve de teksten die letterlijk uit de rapporten overgenomen zijn, bevat de databank ook informatie in een vorm die door het package gebruikt kan worden om de informatie op de juiste manier uit de databank te halen of om berekeningen te maken. Zo is voor elke beoordeling van een indicator een opsplitsing gemaakt in ‘voorwaarden’: de elementaire onderdelen die deel uitmaken van deze beoordeling en die herleid kunnen worden tot een statement dat door een computer geëvalueerd kan worden. Vaak zijn deze voorwaarden de onderdelen die in de rapporten gescheiden zijn door ‘en’ en/of ‘of’, soms is de opsplitsing ook gemaakt uit louter technische noodzaak (bv. ‘10% &lt; x &lt; 50%’ wordt vervangen door de voorwaarden ‘x &gt; 10%’ en ‘x &lt; 50%’). Voor elk van deze voorwaarden is gedetailleerde informatie opgenomen over de variabele die nodig is om deze beoordeling te kunnen maken, die enerzijds bedoeld is om de gebruiker te informeren en anderzijds om de LSVI-berekening gemakkelijk te kunnen automatiseren.</p>
<p>De aard (complexiteit) van de informatie in de LSVI-rapporten en de vereiste om ook als basis te dienen voor de rekenmodule hebben geleid tot een eerder complexe databankstructuur. We hebben dit opgevangen door in het <strong>package</strong> functies voorzien die louter dienen om de databank te bevragen: met de functies <code><a href="../reference/geefVersieInfo.html">geefVersieInfo()</a></code>, <code><a href="../reference/geefInfoHabitatfiche.html">geefInfoHabitatfiche()</a></code>, <code><a href="../reference/geefSoortenlijst.html">geefSoortenlijst()</a></code> en <code><a href="../reference/geefInvoervereisten.html">geefInvoervereisten()</a></code> samen kan alle info uit de databank opgevraagd worden. Ze focussen respectievelijk op informatie over de versies van de rapporten (<code><a href="../reference/geefVersieInfo.html">geefVersieInfo()</a></code>), de letterlijke info uit de LSVI-rapporten (<code><a href="../reference/geefInfoHabitatfiche.html">geefInfoHabitatfiche()</a></code>), de soortenlijsten die aan de habitattypes/indicatoren hangen (<code><a href="../reference/geefSoortenlijst.html">geefSoortenlijst()</a></code>) en de info over de voorwaarden die nodig zijn voor de berekening (<code><a href="../reference/geefInvoervereisten.html">geefInvoervereisten()</a></code>).</p>
<p>Daarnaast bevat het package enkele functies die deze informatie meteen in een rapport giet: <code><a href="../reference/maakLSVIrapport.html">maakLSVIrapport()</a></code> genereert een rapport waarin de habitatfiches van de geselecteerde gegevens na elkaar weergegeven worden (inclusief titels), en <code><a href="../reference/maakHabitatfiches.html">maakHabitatfiches()</a></code> slaat elke habitatfiche op in een apart bestand.</p>
<p>Verder bevat het package functies m.b.t. de berekening van de LSVI. De hoofdfunctie <code><a href="../reference/berekenLSVIbasis.html">berekenLSVIbasis()</a></code> kan door iedereen gebruikt worden om de LSVI te berekenen op basis van eigen gegevens. De gebruiker moet wel eerst de gegevens van de veldopnames omzetten naar het formaat dat beschreven is in de helpfunctie van de functie zelf. Op termijn zullen er ook functies ontwikkeld worden op maat van een specifieke databank of project (met bruikbaarheid afhankelijk van de toegang tot de databank).</p>
<p>Omwille van de complexiteit van de berekening roept berekenLSVIbasis een aantal hulpfuncties op die elk een deel van de controle of berekening uitvoeren. Voor het gemak bij het ontwikkelen zullen deze voorlopig beschikbaar zijn; op termijn zullen omwille van de overzichtelijkheid enkel de functies beschikbaar gesteld blijven die een meerwaarde bieden voor de gebruiker (en relatief gemakkelijk toegepast kunnen worden).</p>
</div>
<div id="doelstellingen" class="section level2">
<h2 class="hasAnchor">
<a href="#doelstellingen" class="anchor"></a>Doelstellingen</h2>
<p>Momenteel bevat het package enkel een basisfunctionaliteit: zoekfuncties om alle onderdelen van de databank weer te geven in een naar ons gevoel logische groepering, en de basisfunctie voor de berekening van de LSVI. Op de planning staan een berekenLSVI-functie voor de verwerking van de fieldmap-gegevens (o.a. opnamen in bossen) en de habitatgegevens van het kwaliteitsmeetnet in INBOVEG, en een rekenmodule voor LSVI-opnamen om de LSVI van Natura 2000-habitattypen toe te voegen aan het platform PAS/DPB.</p>
<p>De doelstelling is om het package op deze manier stap voor stap verder uit te breiden met nieuwe functionaliteiten op vraag van gebruikers, in het kader van projecten, naar aanleiding van nieuwe berekeningswijzen voor de LSVI,… We verwachten hiervoor input van de gebruikers (hoe moet de berekening gebeuren,…). Ook hopen we dat alle scripts die in het kader van de LSVI ontwikkeld worden, uiteindelijk hun weg vinden naar dit package (zie ook de laatste paragraaf van dit onderdeel). Op die manier is er één plaats waar iedereen voor LSVI-informatie en -berekeningen terecht kan, kan iedereen alle eerder ontwikkelde berekeningsmethoden voor de LSVI op zijn/haar gegevens toepassen en vermijden we binnen INBO een wildgroei van berekeningsmethoden met licht afwijkende resultaten.</p>
<p>We testen de functies die we ontwikkelen, maar we zien ook wel eens iets over het hoofd. Het is dus (zeker in het begin) mogelijk dat er nog foutjes in geslopen zijn, dat de functies niet in alle omstandigheden een correct resultaat (of correcte foutmelding) geven, of dat een functie zich ‘irritant’ gedraagt (bv. foutmelding geven als je een hoofdletter ingeeft i.p.v. een kleine letter op een plaats waar dit verschil niet relevant is). <strong>Als je deze of andere problemen tegenkomt, meld ze ons dan a.u.b.</strong> (en ga er niet van uit dat je collega’s dat doen). Geef dan bij voorkeur het script door waarbij het misloopt (waar van toepassing inclusief de gegevens of een suggestie voor het resultaat), dit helpt ons om het probleem te situeren en aan te pakken. Ook alle andere feedback is trouwens welkom.</p>
<p>Als je zelf een script ontwikkelt dat in aanmerking zou kunnen komen om in het package opgenomen te worden, wees dan collegiaal met je collega’s die later een gelijkaardig script nodig hebben en neem contact op met de beheerder van dit package (‘cre’ in description-file, zie code hieronder). We bekijken dan samen op welke manier je het script kan aanleveren en hoe we eventueel resterende taken verdelen. (<em>Aan het berekenscript wordt bij voorkeur een stukje script toegevoegd dat foutcontrole uitvoert op de argumenten van de functie, en documentatie over wat de functie doet, en er wordt bij voorkeur ook een aparte testfunctie geschreven die nagaat of de functie in verschillende situaties het juiste resultaat geeft. We kunnen dit zelf toevoegen of je hierbij helpen, maar het is handig als we hiervoor wat bijkomende informatie krijgen.</em>) Als bedankje word je uiteraard vermeld in de auteurslijst van het package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/packageDescription">packageDescription</a></span>(<span class="dt">pkg =</span> <span class="st">"LSVI"</span>)</code></pre></div>
<pre><code>## Package: LSVI
## Title: Rekenmodule Lokale Staat Van Instandhouding van
##        habitattypen
## Version: 0.1.0
## Authors@R: c( person( "Els", "Lommelen", email =
##        "els.lommelen@inbo.be", comment = c(ORCID =
##        "0000-0002-3481-5684"), role = c("aut", "cre")),
##        person("Patrik", "Oosterlynck", email =
##        "patrik.oosterlynck@inbo.be", comment = c(ORCID =
##        "0000-0002-5712-0770"), role = c("aut")), person("Gert",
##        "Van Spaendonk", email = "gert.vanspaendonk@inbo.be", role
##        = c("aut")), person("Hans", "Van Calster", email =
##        "hans.vancalster@inbo.be", comment = c(ORCID =
##        "0000-0001-8595-8426"), role = c("aut")), person("Martine",
##        "Van Hove", email = "martine.vanhove@inbo.be", role =
##        c("aut")), person("Toon", "Westra", email =
##        "toon.westra@inbo.be", comment = c(ORCID =
##        "0000-0003-2478-9459"), role = c("aut")), person("An",
##        "Leyssen", email = "an.leyssen@inbo.be", role = c("ctb")),
##        person("Toon", "Spanhove", email = "toon.spanhove@inbo.be",
##        role = c("ctb")), person("Research Institute for Nature and
##        Forest (INBO)", email = "info@inbo.be", role = "cph"))
## Description: Het package LSVI bundelt een aantal functies in
##        verband met het ophalen van informatie over en het
##        berekenen van de Lokale Staat Van Instandhouding (LSVI) van
##        habitattypes.
## Depends: R (&gt;= 3.5.0)
## License: GPL-3
## LazyData: true
## Encoding: UTF-8
## Imports: assertthat, DBI, plyr, dplyr, lazyeval, methods, odbc,
##        pool, readr, rgbif, rlang, rmarkdown, RSQLite, stringr,
##        testthat, tidyr, utils, xtable
## Suggests: knitr
## RoxygenNote: 6.1.1
## VignetteBuilder: knitr
## URL: https://github.com/inbo/LSVI
## BugReports: https://github.com/inbo/LSVI/issues
## Collate: 'berekenLSVIbasis.R' 'berekenStatus.R' .....
## Author: Els Lommelen [aut, cre]
##        (&lt;https://orcid.org/0000-0002-3481-5684&gt;), Patrik
##        Oosterlynck [aut]
##        (&lt;https://orcid.org/0000-0002-5712-0770&gt;), Gert Van
##        Spaendonk [aut], Hans Van Calster [aut]
##        (&lt;https://orcid.org/0000-0001-8595-8426&gt;), Martine Van Hove
##        [aut], Toon Westra [aut]
##        (&lt;https://orcid.org/0000-0003-2478-9459&gt;), An Leyssen
##        [ctb], Toon Spanhove [ctb], Research Institute for Nature
##        and Forest (INBO) [cph]
## Maintainer: Els Lommelen &lt;els.lommelen@inbo.be&gt;
## Built: R 3.6.1; ; 2020-03-12 17:13:09 UTC; windows
## 
## -- File: C:/R/Library/LSVI/Meta/package.rds</code></pre>
</div>
</div>
<div id="installatie_package" class="section level1">
<h1 class="hasAnchor">
<a href="#installatie_package" class="anchor"></a>Installatie van het package</h1>
<p>Het package kan als volgt geïnstalleerd worden (altijd eerst R herstarten en deze installatie doen in een sessie waarin nog geen andere packages geladen zijn!):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("remotes")</span>
remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"inbo/LSVI"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Een testversie met de nieuwste aanpassingen kan als volgt geïnstalleerd worden:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"inbo/LSVI@develop"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
<div id="gebruik_basisfuncties" class="section level1">
<h1 class="hasAnchor">
<a href="#gebruik_basisfuncties" class="anchor"></a>Gebruik basisfuncties</h1>
<div id="wegwijs_in_R" class="section level2">
<h2 class="hasAnchor">
<a href="#wegwijs_in_R" class="anchor"></a>Wegwijs in R</h2>
<p>(Wat extra uitleg voor diegenen die niet vertrouwd zijn met R.)</p>
<div id="r-rstudio-scripts-en-projecten" class="section level3">
<h3 class="hasAnchor">
<a href="#r-rstudio-scripts-en-projecten" class="anchor"></a>R, RStudio, scripts en projecten</h3>
<p>R is de taal die je gebruikt om met je computer te communiceren, RStudio is een programma dat een aantal tools aanbiedt die het je wat gemakkelijker maken: allerhande knoppen waardoor je niet voor elke handeling een commando moet typen, ‘spellingscontrole’ (voor R), een ‘verkenner’ waarin je je mappenstructuur kan raadplegen, een lijst met wat er in het geheugen opgeslagen is,…</p>
<p>De communicatie met je computer gebeurt via de ‘console’. Als je vaak gelijkaardige opdrachten wil geven aan je computer, kan je alle commando’s ingeven in een script en dit opslaan voor later gebruik (aan te maken met het knopje linksboven onder ‘File’). Als je je cursor op een commando in het script zet en ‘Ctrl’-‘ENTER’ drukt, wordt dit commando naar de console gekopieerd en uitgevoerd; bij selectie van meerdere commando’s wordt de volledige selectie uitgevoerd.</p>
<p>Aan te raden is om scripts en eventueel bijhorende gegevens te bundelen in een ‘project’. Dit maak je aan door ‘File &gt; New Project &gt; New Directory &gt; New project’ te kiezen, een naam geven aan je project (‘Directory name’) en een map te selecteren om je project in op te slaan. Enkele voordelen:</p>
<ul>
<li>nieuw aangemaakte bestanden worden automatisch in deze map opgeslagen, en verwijzingen naar bestanden kunnen gebeuren ten opzichte van de map van je project (dus relatieve paden i.p.v. absolute paden)</li>
<li>in een project blijft je ‘werkomgeving’ behouden: als bij het afsluiten nog een aantal (niet opgeslagen) scripts open stonden, dan zullen deze bij het heropenen van het project nog in dezelfde staat zijn (bv. geopend en niet opgeslagen), ook als je tussendoor aan andere R-projecten gewerkt hebt</li>
<li>enkele instellingen moet je niet meer manueel in orde brengen (bv. ‘working directory’ instellen), waardoor je minder snel met problemen geconfronteerd wordt</li>
</ul>
<p>Om scripts gemakkelijk te kunnen hergebruiken met andere waarden, kunnen ze in de vorm van functies geschreven worden. Die functies kunnen gebundeld worden in een package en beschikbaar gesteld worden voor alle R-gebruikers.</p>
</div>
<div id="packages-en-documentatie" class="section level3">
<h3 class="hasAnchor">
<a href="#packages-en-documentatie" class="anchor"></a>Packages en documentatie</h3>
<p>Om in R packages te kunnen gebruiken, moeten deze telkens (na elke herstart van de R-console) eerst ingeladen worden met de functie <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library()</a></code>. Om de functies in verband met de LSVI te gebruiken, voer je dus eerst het commando <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(LSVI)</a></code> in. Dit kan wel enkel met reeds geïnstalleerde packages, die in het venster rechtsonder onder de tab Packages vermeld zijn. Andere packages moet je eerst eenmalig installeren (via de knop Install of het commando <code><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages("naam_nieuw_package")</a></code>).</p>
<p>Als je in de lijst met packages onder de tab Packages op een packagenaam klikt, krijg je de documentatie van het package: eventuele handleidingen (onder de link <code>User guides, package vignettes and other documentation</code>) en een klikbare lijst met alle functies die in het package beschikbaar zijn. Dezelfde documentatie is terug te vinden via de bovenste balk op de <a href="https://inbo.github.io/LSVI/index.html">website</a>: handleidingen staan onder <a href="https://inbo.github.io/LSVI/articles/index.html">Articles</a> en functies onder <a href="https://inbo.github.io/LSVI/reference/index.html">Reference</a>.</p>
<p>Zodra een package ingeladen is, kan je deze documentatie van functies ook opvragen door een <code>?</code> te typen, gevolgd door de naam van de functie, bijvoorbeeld:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(LSVI)
?maakLSVIrapport</code></pre></div>
<p>Deze documentatie geeft aan wat de functie doet en hoe je de functie moet gebruiken:</p>
<ul>
<li>Description: beschrijft wat de functie doet</li>
<li>Usage: geeft de argumenten weer en de defaultwaarden die voor deze argumenten meegegeven worden (zie ook Arguments)</li>
<li>Arguments: de argumenten die je met de functie kan of moet meegeven. Hiermee bepaal je dus zelf welke uitvoer je wil, door bijvoorbeeld te kiezen voor een bepaalde versie of bepaald habitattype. Of bij berekenfuncties geef je hier een tabel mee met de veldobservaties waarop de berekening uitgevoerd moet worden. Voor deze argumenten moet je een waarde meegeven als er geen waarde vermeld is onder Usage, in het andere geval mag je een waarde meegeven (als je dit niet doet, wordt de onder Usage vermelde defaultwaarde gebruikt).</li>
<li>Value: wat de functie teruggeeft. Dit is voor het LSVI-package vaak een tabel met gegevens, in bovenstaand voorbeeld wordt een document gegenereerd dat automatisch opgeslagen wordt in de map waarin je op dat moment werkt.</li>
<li>Examples: een of meerdere voorbeelden die tonen hoe je de functie kan gebruiken. Als het package LSVI ingeladen is (dus na intypen van <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(LSVI)</a></code>), kan je deze voorbeelden kopiëren en uittesten. Door de argumenten aan te passen (of toe te voegen of te wissen), kan je op een gemakkelijke manier je eigen script maken.</li>
</ul>
<p><em>(Leeswijzer: info over het gebruik van de functies in het LSVI-package staat onder <a href="#basis_LSVI">Basis van LSVI-package</a>. Wat hier volgt, is wat met de gegenereerde gegevens gedaan kan worden. We raden daarom aan om eerst <a href="#basis_LSVI">Basis van LSVI-package</a> te lezen.)</em></p>
</div>
<div id="gegs_in_tabelvorm" class="section level3">
<h3 class="hasAnchor">
<a href="#gegs_in_tabelvorm" class="anchor"></a>Wat met gegenereerde gegevens in tabelvorm?</h3>
<p>Vaak genereert een functie gegevens in de vorm van een tabel. Hoe kan je hier nu mee verdergaan?</p>
<p>We illustreren dit a.d.h.v de functie <code><a href="../reference/geefSoortenlijst.html">geefSoortenlijst()</a></code>. Als we deze functie op zich gebruiken zoals in de documentatie is weergegeven (eerste voorbeeld), dan wordt de uitvoer weergegeven in de R-console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(LSVI)</code></pre></div>
<pre><code>## Om de functies van het package LSVI te kunnen gebruiken, moet eerst een connectie gelegd worden met de databank.  Dit kan door na het laden van het package eenmaal de functie 'maakConnectiePool()' te runnen.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/maakConnectiePool.html">maakConnectiePool</a></span>()
<span class="kw"><a href="../reference/geefSoortenlijst.html">geefSoortenlijst</a></span>(<span class="dt">Habitattype =</span> <span class="st">"4030"</span>, <span class="dt">Taxonlijsttype =</span> <span class="st">"LSVIfiche"</span>)</code></pre></div>
<pre><code>##        Versie Habitattype Habitatsubtype TaxongroepId
## 1  Versie 2.0        4030           4030          453
## 2  Versie 2.0        4030           4030          453
## 3  Versie 2.0        4030           4030          453
## 4  Versie 2.0        4030           4030          453
## 5  Versie 2.0        4030           4030          453
## 6  Versie 2.0        4030           4030           93
## 7  Versie 2.0        4030           4030           93
## 8  Versie 2.0        4030           4030           93
## 9  Versie 2.0        4030           4030           93
## 10   Versie 3        4030           4030           94
## 11   Versie 3        4030           4030           94
## 12   Versie 3        4030           4030           94
## 13   Versie 3        4030           4030           94
## 14   Versie 3        4030           4030           94
## 15   Versie 3        4030           4030          440
## 16   Versie 3        4030           4030          440
## 17   Versie 3        4030           4030          440
## 18   Versie 3        4030           4030          440
## 19   Versie 3        4030           4030          484
## 20   Versie 3        4030           4030          484
## 21   Versie 3        4030           4030          414
## 22 Versie 2.0        4030           4030          596
## 23 Versie 2.0        4030           4030          596
## 24 Versie 2.0        4030           4030          596
## 25 Versie 2.0        4030           4030          596
## 26 Versie 2.0        4030           4030          596
## 27 Versie 2.0        4030           4030          596
## 28 Versie 2.0        4030           4030          596
## 29 Versie 2.0        4030           4030          596
## 30   Versie 3        4030           4030          597
## 31   Versie 3        4030           4030          597
## 32   Versie 3        4030           4030          597
## 33   Versie 3        4030           4030          597
## 34   Versie 3        4030           4030          597
## 35   Versie 3        4030           4030          597
## 36   Versie 3        4030           4030          597
## 37   Versie 3        4030           4030          597
## 38   Versie 3        4030           4030          597
## 39   Versie 3        4030           4030          597
## 40   Versie 3        4030           4030          597
##              Omschrijving NbnTaxonVersionKey
## 1  vergrassing/verruiging   NBNSYS0000002031
## 2  vergrassing/verruiging   NBNSYS0000002499
## 3  vergrassing/verruiging   NBNSYS0000002623
## 4  vergrassing/verruiging   NBNSYS0000039520
## 5  vergrassing/verruiging   NBNSYS0000137437
## 6           dwergstruiken   NBNSYS0000003902
## 7           dwergstruiken   NBNSYS0000003903
## 8           dwergstruiken   NBNSYS0000003909
## 9           dwergstruiken   NBNSYS0000003915
## 10          dwergstruiken   NBNSYS0000003902
## 11          dwergstruiken   NBNSYS0000003903
## 12          dwergstruiken   NBNSYS0000003909
## 13          dwergstruiken   NBNSYS0000003914
## 14          dwergstruiken   NBNSYS0000003915
## 15            vergrassing   NBNSYS0000002499
## 16            vergrassing   NBNSYS0000002623
## 17            vergrassing   NBNSYS0000002630
## 18            vergrassing   NBNSYS0000039520
## 19             verruiging   NBNSYS0000002031
## 20             verruiging   NBNSYS0000137437
## 21           invasief mos   NBNSYS0000036261
## 22         sleutelsoorten   INBSYS0000004851
## 23         sleutelsoorten   NBNSYS0000002003
## 24         sleutelsoorten   NBNSYS0000003207
## 25         sleutelsoorten   NBNSYS0000003208
## 26         sleutelsoorten   NBNSYS0000003909
## 27         sleutelsoorten   NBNSYS0000003914
## 28         sleutelsoorten   NBNSYS0000004030
## 29  aanwezigheidstruikhei   NBNSYS0000003902
## 30         sleutelsoorten   INBSYS0000004426
## 31         sleutelsoorten   INBSYS0000004851
## 32         sleutelsoorten   NBNSYS0000002003
## 33         sleutelsoorten   NBNSYS0000002444
## 34         sleutelsoorten   NBNSYS0000002676
## 35         sleutelsoorten   NBNSYS0000003207
## 36         sleutelsoorten   NBNSYS0000003208
## 37         sleutelsoorten   NBNSYS0000003909
## 38         sleutelsoorten   NBNSYS0000004030
## 39         sleutelsoorten   NHMSYS0000458768
## 40  aanwezigheidstruikhei   NBNSYS0000003902
##                                    WetNaam               NedNaam
## 1            Pteridium aquilinum (L.) Kuhn         Adelaarsvaren
## 2             Molinia caerulea (L.) Moench        Pijpenstrootje
## 3          Deschampsia flexuosa (L.) Trin.        Bochtige smele
## 4                                 Agrostis        Struisgras (G)
## 5                                    Rubus             Braam (G)
## 6               Calluna vulgaris (L.) Hull             Struikhei
## 7                        Erica tetralix L.         Gewone dophei
## 8                         Erica cinerea L.           Rode dophei
## 9                   Vaccinium myrtillus L.         Blauwe bosbes
## 10              Calluna vulgaris (L.) Hull             Struikhei
## 11                       Erica tetralix L.         Gewone dophei
## 12                        Erica cinerea L.           Rode dophei
## 13                Vaccinium vitis-idaea L.           Rode bosbes
## 14                  Vaccinium myrtillus L.         Blauwe bosbes
## 15            Molinia caerulea (L.) Moench        Pijpenstrootje
## 16         Deschampsia flexuosa (L.) Trin.        Bochtige smele
## 17        Calamagrostis epigejos (L.) Roth     Gewoon struisriet
## 18                                Agrostis        Struisgras (G)
## 19           Pteridium aquilinum (L.) Kuhn         Adelaarsvaren
## 20                                   Rubus             Braam (G)
## 21    Campylopus introflexus (Hedw.) Brid. Grijs kronkelsteeltje
## 22 Diphasiastrum tristachyum (Pursh) Holub     Kleine wolfsklauw
## 23                  Lycopodium clavatum L.      Grote wolfsklauw
## 24                      Genista anglica L.            Stekelbrem
## 25                       Genista pilosa L.             Kruipbrem
## 26                        Erica cinerea L.           Rode dophei
## 27                Vaccinium vitis-idaea L.           Rode bosbes
## 28               Cuscuta epithymum (L.) L.        Klein warkruid
## 29              Calluna vulgaris (L.) Hull             Struikhei
## 30         Potentilla erecta (L.) Räuschel             Tormentil
## 31 Diphasiastrum tristachyum (Pursh) Holub     Kleine wolfsklauw
## 32                  Lycopodium clavatum L.      Grote wolfsklauw
## 33                     Carex pilulifera L.              Pilzegge
## 34                       Nardus stricta L.           Borstelgras
## 35                      Genista anglica L.            Stekelbrem
## 36                       Genista pilosa L.             Kruipbrem
## 37                        Erica cinerea L.           Rode dophei
## 38               Cuscuta epithymum (L.) L.        Klein warkruid
## 39               Festuca filiformis Pourr.      Fijn schapengras
## 40              Calluna vulgaris (L.) Hull             Struikhei
##                  WetNaamKort TaxonType
## 1        Pteridium aquilinum   Species
## 2           Molinia caerulea   Species
## 3       Deschampsia flexuosa   Species
## 4                   Agrostis     Genus
## 5                      Rubus     Genus
## 6           Calluna vulgaris   Species
## 7             Erica tetralix   Species
## 8              Erica cinerea   Species
## 9        Vaccinium myrtillus   Species
## 10          Calluna vulgaris   Species
## 11            Erica tetralix   Species
## 12             Erica cinerea   Species
## 13     Vaccinium vitis-idaea   Species
## 14       Vaccinium myrtillus   Species
## 15          Molinia caerulea   Species
## 16      Deschampsia flexuosa   Species
## 17    Calamagrostis epigejos   Species
## 18                  Agrostis     Genus
## 19       Pteridium aquilinum   Species
## 20                     Rubus     Genus
## 21    Campylopus introflexus   Species
## 22 Diphasiastrum tristachyum   Species
## 23       Lycopodium clavatum   Species
## 24           Genista anglica   Species
## 25            Genista pilosa   Species
## 26             Erica cinerea   Species
## 27     Vaccinium vitis-idaea   Species
## 28         Cuscuta epithymum   Species
## 29          Calluna vulgaris   Species
## 30         Potentilla erecta   Species
## 31 Diphasiastrum tristachyum   Species
## 32       Lycopodium clavatum   Species
## 33          Carex pilulifera   Species
## 34            Nardus stricta   Species
## 35           Genista anglica   Species
## 36            Genista pilosa   Species
## 37             Erica cinerea   Species
## 38         Cuscuta epithymum   Species
## 39        Festuca filiformis   Species
## 40          Calluna vulgaris   Species</code></pre>
<p>Omdat de tabel te breed is, wordt deze opgesplitst in 3 delen, die onder elkaar weergegeven worden. Deze tabel wordt ook enkel weergegeven, niet opgeslagen, en op deze manier kunnen we er achteraf geen bewerkingen mee doen. Beter is om de tabel toe te kennen aan een variabele, we geven hier die variabele de naam <code>soortenlijst4030</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">soortenlijst4030 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/geefSoortenlijst.html">geefSoortenlijst</a></span>(<span class="dt">Habitattype =</span> <span class="st">"4030"</span>, <span class="dt">Taxonlijsttype =</span> <span class="st">"LSVIfiche"</span>)</code></pre></div>
<p>Als je dit commando in je eigen console runt, verschijnt deze variabele in het venster rechtsboven onder de tab Environment (dat een overzicht geeft van alle variabelen). Bij tabellen kan je deze variabele bekijken door erop te klikken.</p>
<p>In R kan je deze variabele tonen door de variabelenaam in te typen (dan krijg je dezelfde uitvoer van de tabel in 4 delen). Je kan er ook allerlei bewerkingen mee uitvoeren (sorteren, selecteren,…), maar daarvoor verwijzen we naar een basiscursus van R.</p>
<p>Wat we hier wel tonen, is hoe deze tabel opgeslagen kan worden, zodat hij achteraf in Excel geopend kan worden. Dit kan met de functie ‘write_csv2()’ uit het package ‘readr’. Om deze tabel met naam <code>soortenlijst4010.csv</code> op te slaan in de map R op de C-schijf, gebruiken we volgende commando’s:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(readr)
<span class="kw">write_csv2</span>(soortenlijst4030, <span class="st">"C:/R/soortenlijst4030.csv"</span>)</code></pre></div>
<p>We hebben hier het absolute path (<code>C:/R</code>) weergegeven, een andere mogelijkheid is om het path relatief ten opzichte van de ‘working directory’ weer te geven. Dit is de map waarin je aan ’t werken bent. Je kan deze working directory zelf bepalen door het commando <code><a href="https://www.rdocumentation.org/packages/base/topics/getwd">setwd("C:/.../mijn_werkmap")</a></code>. Als je in een project werkt waarin je al je scripts opslaat (aan te raden), dan is de root van dit project automatisch je working directory.</p>
</div>
<div id="hoe-eigen-gegevens-inlezen-in-r" class="section level3">
<h3 class="hasAnchor">
<a href="#hoe-eigen-gegevens-inlezen-in-r" class="anchor"></a>Hoe eigen gegevens inlezen in R?</h3>
<p>Als je eigen gegevens wil inlezen in R, is de eenvoudigste methode om deze in excel op te slaan als ‘csv (gescheiden door lijstscheidingsteken)’ en in de ‘working directory’ te plaatsen (of je kan ook het path specifiëren). Daarna kan je de gegevens als volgt inlezen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(readr)
Dataset &lt;-<span class="st"> </span><span class="kw">read_csv2</span>(<span class="st">"Gegevens.csv"</span>)</code></pre></div>
<p>Je steekt dus de gegevens uit je bestand <code>Gegevens.csv</code> in de variabele <code>Dataset</code>. (Het laden van de library readr is enkel nodig als je dit nog niet eerder gedaan hebt sinds je R opgestart hebt.)</p>
<p>Gegevens kunnen ook rechtstreeks vanuit een databank ingelezen worden, en ze kunnen in R naar het gewenste formaat omgezet worden. Een volledige uitleg hierover zou ons echter te ver leiden. Toch interesse om hier meer over te leren? Neem dan contact op met een collega van BMK.</p>
</div>
<div id="wat-met-een-list-van-tabellen" class="section level3">
<h3 class="hasAnchor">
<a href="#wat-met-een-list-van-tabellen" class="anchor"></a>Wat met een list van tabellen?</h3>
<p>De functie <code><a href="../reference/berekenLSVIbasis.html">berekenLSVIbasis()</a></code> geeft gegevens terug in de vorm van een lijst van 4 tabellen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Eerst worden wat voorbeeldgegevens opgehaald uit het package:</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(readr)
Data_habitat &lt;-
<span class="st">  </span><span class="kw">read_csv2</span>(
    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"vbdata/Opname4030habitat.csv"</span>, <span class="dt">package =</span> <span class="st">"LSVI"</span>),
    <span class="dt">col_types =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="kw">col_character</span>(), <span class="kw">col_character</span>(), <span class="kw">col_character</span>())
  )</code></pre></div>
<pre><code>## Using ',' as decimal and '.' as grouping mark. Use read_delim() for more control.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Data_voorwaarden &lt;-
<span class="st">  </span><span class="kw">read_csv2</span>(
    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"vbdata/Opname4030voorwaardenv2.csv"</span>, <span class="dt">package =</span> <span class="st">"LSVI"</span>)
  )</code></pre></div>
<pre><code>## Using ',' as decimal and '.' as grouping mark. Use read_delim() for more control.</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   ID = col_character(),
##   Criterium = col_character(),
##   Indicator = col_character(),
##   Voorwaarde = col_character(),
##   Waarde = col_character(),
##   Type = col_character(),
##   Invoertype = col_character(),
##   Eenheid = col_character()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Data_soortenKenmerken &lt;-
<span class="st">  </span><span class="kw">read_csv2</span>(
    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"vbdata/Opname4030soortenKenmerken.csv"</span>, <span class="dt">package =</span> <span class="st">"LSVI"</span>)
  )</code></pre></div>
<pre><code>## Using ',' as decimal and '.' as grouping mark. Use read_delim() for more control.</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   ID = col_character(),
##   Kenmerk = col_character(),
##   TypeKenmerk = col_character(),
##   Waarde = col_character(),
##   Type = col_character(),
##   Invoertype = col_character(),
##   Eenheid = col_character(),
##   Vegetatielaag = col_character()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#En hier gebeurt de berekening zelf:</span>
<span class="kw"><a href="../reference/berekenLSVIbasis.html">berekenLSVIbasis</a></span>(
  <span class="dt">Versie =</span> <span class="st">"Versie 2.0"</span>,
  <span class="dt">Kwaliteitsniveau =</span> <span class="st">"1"</span>, Data_habitat,
  Data_voorwaarden, Data_soortenKenmerken
)</code></pre></div>
<pre><code>## Registered S3 method overwritten by 'crul':
##   method                 from
##   as.character.form_file httr</code></pre>
<pre><code>## Warning in berekenLSVIbasis(Versie = "Versie 2.0", Kwaliteitsniveau =
## "1", : Volgende records uit Data_voorwaarden kunnen niet gekoppeld worden
## aan indicatoren uit de databank omdat de criterium-indicator-voorwaarde-
## combinatie niet voorkomt bij de LSVI-regels van het opgegeven habitattype:
## &lt;JR0216, Verstoring, invasieve exoten, bedekking invasieve exoten&gt; &lt;Ts2036,
## Verstoring, invasieve exoten, bedekking invasieve exoten&gt;</code></pre>
<pre><code>## $Resultaat_criterium
## # A tibble: 6 x 9
##   ID    Habitattype Versie Criterium Kwaliteitsniveau Status_criterium
##   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;                &lt;int&gt; &lt;lgl&gt;           
## 1 JR02~ 4030        Versi~ Structuur                1 FALSE           
## 2 JR02~ 4030        Versi~ Vegetatie                1 FALSE           
## 3 JR02~ 4030        Versi~ Verstori~                1 FALSE           
## 4 Ts20~ 4030        Versi~ Structuur                1 TRUE            
## 5 Ts20~ 4030        Versi~ Vegetatie                1 FALSE           
## 6 Ts20~ 4030        Versi~ Verstori~                1 TRUE            
## # ... with 3 more variables: Aggregatiemethode &lt;chr&gt;,
## #   Index_min_criterium &lt;dbl&gt;, Index_harm_criterium &lt;dbl&gt;
## 
## $Resultaat_indicator
## # A tibble: 10 x 12
##    ID    Habitattype Versie Habitattype.y Criterium Indicator Beoordeling
##    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;      
##  1 JR02~ 4030        Versi~ 4030          Structuur dwergstr~ B: &gt;= codo~
##  2 JR02~ 4030        Versi~ 4030          Structuur ouderdom~ B: 2 tot 3~
##  3 JR02~ 4030        Versi~ 4030          Vegetatie sleutels~ B: Struikh~
##  4 JR02~ 4030        Versi~ 4030          Verstori~ verbossi~ B: 10-30%  
##  5 JR02~ 4030        Versi~ 4030          Verstori~ vergrass~ B: 30-50%  
##  6 Ts20~ 4030        Versi~ 4030          Structuur dwergstr~ B: &gt;= codo~
##  7 Ts20~ 4030        Versi~ 4030          Structuur ouderdom~ B: 2 tot 3~
##  8 Ts20~ 4030        Versi~ 4030          Vegetatie sleutels~ B: Struikh~
##  9 Ts20~ 4030        Versi~ 4030          Verstori~ verbossi~ B: 10-30%  
## 10 Ts20~ 4030        Versi~ 4030          Verstori~ vergrass~ B: 30-50%  
## # ... with 5 more variables: Belang &lt;chr&gt;, Kwaliteitsniveau &lt;int&gt;,
## #   BeoordelingID &lt;int&gt;, Status_indicator &lt;lgl&gt;, Verschilscore &lt;dbl&gt;
## 
## $Resultaat_detail
## # A tibble: 12 x 27
##    ID    Habitattype `kwaliteit van ~ Versie Habitattype.y Criterium
##    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;    
##  1 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Structuur
##  2 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Structuur
##  3 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Vegetatie
##  4 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Vegetatie
##  5 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Verstori~
##  6 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Verstori~
##  7 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Structuur
##  8 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Structuur
##  9 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Vegetatie
## 10 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Vegetatie
## 11 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Verstori~
## 12 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Verstori~
## # ... with 21 more variables: Indicator &lt;chr&gt;, Beoordeling &lt;chr&gt;,
## #   Kwaliteitsniveau &lt;int&gt;, Belang &lt;chr&gt;, BeoordelingID &lt;int&gt;,
## #   Combinatie &lt;chr&gt;, VoorwaardeID &lt;int&gt;, Voorwaarde &lt;chr&gt;,
## #   Referentiewaarde &lt;chr&gt;, Operator &lt;chr&gt;, EenheidRefwaarde &lt;chr&gt;,
## #   TypeRefwaarde &lt;chr&gt;, InvoertypeRevwaarde &lt;chr&gt;, Waarde &lt;chr&gt;,
## #   TypeWaarde &lt;chr&gt;, InvoertypeWaarde &lt;chr&gt;, EenheidWaarde &lt;chr&gt;,
## #   AfkomstWaarde &lt;chr&gt;, TheoretischMaximum &lt;dbl&gt;,
## #   Status_voorwaarde &lt;lgl&gt;, Verschilscore &lt;dbl&gt;
## 
## $Resultaat_globaal
## # A tibble: 2 x 9
##   ID    Habitattype Versie Kwaliteitsniveau Status Aggregatiemetho~
##   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;             &lt;int&gt; &lt;lgl&gt;  &lt;chr&gt;           
## 1 JR02~ 4030        Versi~                1 FALSE  1-out-all-out   
## 2 Ts20~ 4030        Versi~                1 FALSE  1-out-all-out   
## # ... with 3 more variables: Index_min_min &lt;dbl&gt;, Index_min_harm &lt;dbl&gt;,
## #   Index_harm_harm &lt;dbl&gt;</code></pre>
<p>We gaan weer beginnen met de uitvoer in een variabele (‘resultaat’) te steken om er bewerkingen op te kunnen uitvoeren:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">resultaat &lt;-
<span class="st">  </span><span class="kw"><a href="../reference/berekenLSVIbasis.html">berekenLSVIbasis</a></span>(
    <span class="dt">Versie =</span> <span class="st">"Versie 2.0"</span>,
    <span class="dt">Kwaliteitsniveau =</span> <span class="st">"1"</span>, Data_habitat,
    Data_voorwaarden, Data_soortenKenmerken
  )</code></pre></div>
<pre><code>## Warning in berekenLSVIbasis(Versie = "Versie 2.0", Kwaliteitsniveau =
## "1", : Volgende records uit Data_voorwaarden kunnen niet gekoppeld worden
## aan indicatoren uit de databank omdat de criterium-indicator-voorwaarde-
## combinatie niet voorkomt bij de LSVI-regels van het opgegeven habitattype:
## &lt;JR0216, Verstoring, invasieve exoten, bedekking invasieve exoten&gt; &lt;Ts2036,
## Verstoring, invasieve exoten, bedekking invasieve exoten&gt;</code></pre>
<p>Nu kunnen we de afzonderlijke tabellen als volgt uit het object <code>resultaat</code> halen (je kan met <code>$</code> of met <code>[[]]</code> werken):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">resultaat<span class="op">$</span>Resultaat_globaal  <span class="co">#ofwel: resultaat[["Resultaat_globaal"]]</span></code></pre></div>
<pre><code>## # A tibble: 2 x 9
##   ID    Habitattype Versie Kwaliteitsniveau Status Aggregatiemetho~
##   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;             &lt;int&gt; &lt;lgl&gt;  &lt;chr&gt;           
## 1 JR02~ 4030        Versi~                1 FALSE  1-out-all-out   
## 2 Ts20~ 4030        Versi~                1 FALSE  1-out-all-out   
## # ... with 3 more variables: Index_min_min &lt;dbl&gt;, Index_min_harm &lt;dbl&gt;,
## #   Index_harm_harm &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">resultaat<span class="op">$</span>Resultaat_criterium</code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   ID    Habitattype Versie Criterium Kwaliteitsniveau Status_criterium
##   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;                &lt;int&gt; &lt;lgl&gt;           
## 1 JR02~ 4030        Versi~ Structuur                1 FALSE           
## 2 JR02~ 4030        Versi~ Vegetatie                1 FALSE           
## 3 JR02~ 4030        Versi~ Verstori~                1 FALSE           
## 4 Ts20~ 4030        Versi~ Structuur                1 TRUE            
## 5 Ts20~ 4030        Versi~ Vegetatie                1 FALSE           
## 6 Ts20~ 4030        Versi~ Verstori~                1 TRUE            
## # ... with 3 more variables: Aggregatiemethode &lt;chr&gt;,
## #   Index_min_criterium &lt;dbl&gt;, Index_harm_criterium &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">resultaat<span class="op">$</span>Resultaat_indicator</code></pre></div>
<pre><code>## # A tibble: 10 x 12
##    ID    Habitattype Versie Habitattype.y Criterium Indicator Beoordeling
##    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;      
##  1 JR02~ 4030        Versi~ 4030          Structuur dwergstr~ B: &gt;= codo~
##  2 JR02~ 4030        Versi~ 4030          Structuur ouderdom~ B: 2 tot 3~
##  3 JR02~ 4030        Versi~ 4030          Vegetatie sleutels~ B: Struikh~
##  4 JR02~ 4030        Versi~ 4030          Verstori~ verbossi~ B: 10-30%  
##  5 JR02~ 4030        Versi~ 4030          Verstori~ vergrass~ B: 30-50%  
##  6 Ts20~ 4030        Versi~ 4030          Structuur dwergstr~ B: &gt;= codo~
##  7 Ts20~ 4030        Versi~ 4030          Structuur ouderdom~ B: 2 tot 3~
##  8 Ts20~ 4030        Versi~ 4030          Vegetatie sleutels~ B: Struikh~
##  9 Ts20~ 4030        Versi~ 4030          Verstori~ verbossi~ B: 10-30%  
## 10 Ts20~ 4030        Versi~ 4030          Verstori~ vergrass~ B: 30-50%  
## # ... with 5 more variables: Belang &lt;chr&gt;, Kwaliteitsniveau &lt;int&gt;,
## #   BeoordelingID &lt;int&gt;, Status_indicator &lt;lgl&gt;, Verschilscore &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">resultaat<span class="op">$</span>Resultaat_detail</code></pre></div>
<pre><code>## # A tibble: 12 x 27
##    ID    Habitattype `kwaliteit van ~ Versie Habitattype.y Criterium
##    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;    
##  1 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Structuur
##  2 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Structuur
##  3 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Vegetatie
##  4 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Vegetatie
##  5 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Verstori~
##  6 JR02~ 4030        Zeer goed (Zeke~ Versi~ 4030          Verstori~
##  7 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Structuur
##  8 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Structuur
##  9 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Vegetatie
## 10 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Vegetatie
## 11 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Verstori~
## 12 Ts20~ 4030        Matig?(Waarschi~ Versi~ 4030          Verstori~
## # ... with 21 more variables: Indicator &lt;chr&gt;, Beoordeling &lt;chr&gt;,
## #   Kwaliteitsniveau &lt;int&gt;, Belang &lt;chr&gt;, BeoordelingID &lt;int&gt;,
## #   Combinatie &lt;chr&gt;, VoorwaardeID &lt;int&gt;, Voorwaarde &lt;chr&gt;,
## #   Referentiewaarde &lt;chr&gt;, Operator &lt;chr&gt;, EenheidRefwaarde &lt;chr&gt;,
## #   TypeRefwaarde &lt;chr&gt;, InvoertypeRevwaarde &lt;chr&gt;, Waarde &lt;chr&gt;,
## #   TypeWaarde &lt;chr&gt;, InvoertypeWaarde &lt;chr&gt;, EenheidWaarde &lt;chr&gt;,
## #   AfkomstWaarde &lt;chr&gt;, TheoretischMaximum &lt;dbl&gt;,
## #   Status_voorwaarde &lt;lgl&gt;, Verschilscore &lt;dbl&gt;</code></pre>
<p>Met deze tabellen kan verder gewerkt worden zoals hierboven beschreven is (<a href="#gegs_in_tabelvorm">Wat met gegenereerde gegevens in tabelvorm?</a>)</p>
</div>
</div>
<div id="basis_LSVI" class="section level2">
<h2 class="hasAnchor">
<a href="#basis_LSVI" class="anchor"></a>Basis van LSVI-package</h2>
<div id="connecteren-met-de-databank" class="section level3">
<h3 class="hasAnchor">
<a href="#connecteren-met-de-databank" class="anchor"></a>Connecteren met de databank</h3>
<p>Om de functies van het LSVI-package te gebruiken, heb je een connectie nodig met de databank met informatie uit LSVI-rapporten (zie <a href="#inhoud_package">Doelstellingen en inhoud package &gt; Inhoud package</a>). Deze connectie kan op 2 manieren gelegd worden:</p>
<ul>
<li>Na het laden van het package eenmalig een pool van connecties aanmaken door de functie <code><a href="../reference/maakConnectiePool.html">maakConnectiePool()</a></code> te runnen. De gegenereerde ConnectiePool zal in de achtergrond verbinding leggen met de databank telkens wanneer dit nodig is, extra connecties aanleggen als dit nodig is, overbodig geworden connecties verwijderen,… en je moet niet telkens de connectie als parameter vermelden bij elke functie die je gebruikt. Met andere woorden: nadat je die ConnectiePool aangemaakt hebt, moet je je verder niet meer bezighouden met die connectie. Is er toch een functie die vereist dat je een connectie meegeeft? Dan kan je simpelweg <code>ConnectiePool</code> als argument meegeven. Als je geen functies meer nodig hebt uit het LSVI-package, kan je deze ConnectiePool sluiten met <code>poolClose()</code> uit het package <code>pool</code> en eventueel het object verwijderen.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(LSVI)
<span class="kw"><a href="../reference/maakConnectiePool.html">maakConnectiePool</a></span>()
<span class="co">#Nu kan je alle functies gebruiken zonder expliciet het argument ConnectieLSVIhabitats op te geven, bv.</span>
<span class="kw"><a href="../reference/geefVersieInfo.html">geefVersieInfo</a></span>()
<span class="kw"><a href="../reference/geefSoortenlijst.html">geefSoortenlijst</a></span>(<span class="dt">Habitattype =</span> <span class="st">"4030"</span>)

<span class="co">#En als je geen functies meer nodig hebt uit het LSVI-package, kan je de ConnectiePool afsluiten en verwijderen:</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(pool)
<span class="kw">poolClose</span>(ConnectiePool)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rm">rm</a></span>(ConnectiePool)</code></pre></div>
<ul>
<li>Een connectie met de databank maken met de functie <code><a href="../reference/connecteerMetLSVIdb.html">connecteerMetLSVIdb()</a></code> en deze connectie voor elke functie meegeven bij de parameter ConnectieLSVIhabitats.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(LSVI)
Connectie &lt;-<span class="st"> </span><span class="kw"><a href="../reference/connecteerMetLSVIdb.html">connecteerMetLSVIdb</a></span>()
<span class="co">#Nu moet je bij elke functie opnieuw deze connectie meegeven</span>
<span class="kw"><a href="../reference/geefVersieInfo.html">geefVersieInfo</a></span>(<span class="dt">ConnectieLSVIhabitats =</span> Connectie)
<span class="kw"><a href="../reference/geefSoortenlijst.html">geefSoortenlijst</a></span>(<span class="dt">Habitattype =</span> <span class="st">"4030"</span>, <span class="dt">ConnectieLSVIhabitats =</span> Connectie)

<span class="co">#De connectie sluiten kan met dbDisconnect uit het DBI-package:</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(DBI)
<span class="kw">dbDisconnect</span>(Connectie)</code></pre></div>
</div>
<div id="gebruik-van-de-functies-zelf" class="section level3">
<h3 class="hasAnchor">
<a href="#gebruik-van-de-functies-zelf" class="anchor"></a>Gebruik van de functies zelf</h3>
<p>De functies kunnen min of meer in groepen ingedeeld worden op basis van het eerste deel van hun naam:</p>
<ul>
<li>
<code>maakXXX</code>: deze functies genereren een bestand (.html) waarin de informatie uit de databank in een rapportageformaat weergegeven wordt</li>
<li>
<code>geefXXX</code>: deze functies genereren een tabel met informatie uit de databank</li>
<li>
<code>berekenXXX</code>: deze functies voeren berekeningen uit m.b.t. de LSVI op basis van opgegeven veldgegevens</li>
<li>andere (<code>selecteerXXX</code>, <code>vertaalXXX</code> en <code>connecteerXXX</code>): hulpfuncties die eventueel relevant kunnen zijn voor gevorderde R-gebruikers</li>
</ul>
<p>Voor de functies van voornamelijk de eerste twee groepen zijn er een aantal argumenten die facultatief meegegeven kunnen worden: Versie, Habitatgroep, Habitattype, Criterium en Indicator. Door hiervoor waarden op te geven, kunnen de relevante gegevens uit de databank geselecteerd worden. Voor de argumenten waarvoor geen specifieke waarden opgegeven zijn, wordt de default ‘alle’ gebruikt, waardoor alle beschikbare gegevens voor dat argument uit de databank gehaald worden.</p>
<p>Voor een overzicht van de belangrijkste beschikbare functies verwijzen we naar een eerder hoofdstuk in deze handleiding ( <a href="#doelstellingen_inhoud">Doelstellingen en inhoud package</a>) en voor de gedetailleerde beschrijving verwijzen we naar de <a href="https://inbo.github.io/LSVI/reference/index.html">documentatie van de functies zelf</a>. In deze documentatie wordt verwezen naar hulpfuncties waar het relevant is om deze te gebruiken.</p>
<p>Enkele functies worden niet of amper vermeld in deze handleiding of de documentatie van andere functies. Dit zijn technische hulpfuncties die moeilijk zijn in gebruik (vaak doordat ze als argumenten identificatienummers uit de databank nodig hebben) en die een meer gebruiksvriendelijk alternatief hebben. Ze dienen doorgaans als hulpfunctie voor hun gebruiksvriendelijke alternatieven en/of andere basisfuncties en zijn in de documentatie duidelijk benoemd als ‘hulpfunctie’ met vaak de vermelding van het meer gebruiksvriendelijke alternatief. We willen ervaren R-gebruikers de kans te geven om deze indien nodig te gebruiken, vandaar dat we ervoor kiezen om deze toch beschikbaar te stellen.</p>
<p>Vragen of hulp nodig? Spring gerust binnen bij BMK.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#leeswijzer">Leeswijzer</a></li>
      <li>
<a href="#doelstellingen_inhoud">Doelstellingen en inhoud package</a><ul class="nav nav-pills nav-stacked">
<li><a href="#inhoud_package">Inhoud package</a></li>
      <li><a href="#doelstellingen">Doelstellingen</a></li>
      </ul>
</li>
      <li><a href="#installatie_package">Installatie van het package</a></li>
      <li>
<a href="#gebruik_basisfuncties">Gebruik basisfuncties</a><ul class="nav nav-pills nav-stacked">
<li><a href="#wegwijs_in_R">Wegwijs in R</a></li>
      <li><a href="#basis_LSVI">Basis van LSVI-package</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Els Lommelen, Patrik Oosterlynck, Gert Van Spaendonk, Hans Van Calster, Martine Van Hove, Toon Westra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
